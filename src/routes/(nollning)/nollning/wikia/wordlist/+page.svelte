<script lang="ts">
  // As to avoid cluttering up the translation file, all words in the word list are part of a single translation value
  // The format is like this: Definition - description\nDefinition - description
  import { availableLanguageTags, languageTag } from "$paraglide/runtime";
  type Lang = (typeof availableLanguageTags)[number];

  // TODO: Translate

  const wordBank: Array<{ sv: string } & Partial<Record<Lang, string>>> = [
    {
      sv: "AFB - F√∂rser studenterna med studentbost√§der.",
      en: "AFB - Provides students with housing.",
    },
    {
      sv: "AF-borgen - Plats f√∂r bal och spex.",
      en: "AF-borgen - Venue for balls and student theater.",
    },
    { sv: "Cheps - Definition saknas...", en: "Cheps - Definition missing..." },
    { sv: "CSN - ü§ëü§ëü§ë.", en: "CSN - ü§ëü§ëü§ë (Student financial aid)." },
    {
      sv: "Delphi - Lunds studentghetto.",
      en: "Delphi - Lund's student ghetto.",
    },
    {
      sv: "Delphivr√•l - √Öngestfyllt, hj√§rtsk√§rande, utdraget vr√•l som kan h√∂ras runt Delphi med omnejd kl. 23.00 under tentaveckorna.",
      en: "Delphi scream - A stressed, heart-wrenching, prolonged scream heard around Delphi at 23:00 during exam weeks.",
    },
    {
      sv: "D - Fj√§rde bokstaven i alfabetet.",
      en: "D - The fourth letter of the alphabet.",
    },
    {
      sv: "Datag√•rden - fj√§rde g√•rden p√• K√§mn√§rsr√§tten, m√•nga D:are bor/bodde d√§r.",
      en: "Datag√•rden - The fourth courtyard at K√§mn√§rsr√§tten, where many D-guild members live/lived.",
    },
    {
      sv: "D:are  - Person p√• D-sektionen.",
      en: "D:are - A member of the D-guild.",
    },
    { sv: "D-caf√© - V√•rt caf√© i iD√©t.", en: "D-caf√© - Our caf√© in iD√©t." },
    {
      sv: "D-huset - Byggnaden d√§r D:are spenderar mestadelen av sin tid p√• campus.",
      en: "D-huset - The building where D-guild members spend most of their time on campus.",
    },
    {
      sv: "D-sektionen - Den b√§sta sektionen.",
      en: "D-sektionen - The best guild.",
    },
    {
      sv: "Eftersl√§pp - Klubb som √∂ppnas efter sittning.",
      en: "Eftersl√§pp - A club that opens after a sitting.",
    },
    {
      sv: "E-huset - En felstavning av D-huset.",
      en: "E-huset - A misspelling of D-huset.",
    },
    { sv: "Gasque - Finare sittning.", en: "Gasque - A more formal sitting." },
    {
      sv: "Gyckel - Kort scenframtr√§dande. G√∂rs alltid tv√• stycken innan man f√•r l√§mna scen.",
      en: "Gyckel - A short stage performance. Always done twice before leaving the stage.",
    },
    {
      sv: "H√∂gtidsdr√§kt - Se <a href='/nolla/packing#kladkod'>kl√§dkoder</a>.",
      en: "Formal attire - See <a href='/nolla/packing#kladkod'>dress codes</a>.",
    },
    { sv: "iD√©t - V√•rt hem i D-huset.", en: "iD√©t - Our home in D-huset." },
    {
      sv: "Inspektor - √Ñldre och klokare person som r√•dgiver sektionen.",
      en: "Inspektor - An older and wiser person who advises the guild.",
    },
    {
      sv: "K√§mn√§rsr√§tten - Nordligt l√§genhetsomr√•de n√§ra Willys.",
      en: "K√§mn√§rsr√§tten - A northern apartment area near Willys.",
    },
    {
      sv: "LED - Ett caf√© i D-huset som tror de √§r n√•got. L√§sare rekommenderas att g√• till D-caf√© ist√§llet.",
      en: "LED - A caf√© in D-huset that thinks it's something. Readers are recommended to go to D-caf√© instead.",
    },
    {
      sv: "Lila - V√•r andra sektionsf√§rg, #9966CC ;)",
      en: "Purple - Our second guild color, #9966CC ;)",
    },
    {
      sv: "N0llan - Teknolog i tr√§ningsphasen.",
      en: "N0llan - A technology student in the training phase.",
    },
    {
      sv: "Nation - Fritidsf√∂rening som anordnar klubbar och annat skojsigt.",
      en: "Nation - A leisure club that organizes parties and other fun activities.",
    },
    {
      sv: "Nollegasque - Den stora avslutande sittningen p√• nollningen.",
      en: "Nollegasque - The grand final sitting during nollningen.",
    },
    {
      sv: "Nollegeneral - Nollningens general.",
      en: "Nollegeneral - The general of nollningen.",
    },
    {
      sv: "Ouvve - Ouverall. Teknologens favoritplagg.",
      en: "Ouvve - Overall. The favorite garment of technology students.",
    },
    { sv: "Peppare - H√•ller i nollningen.", en: "Peppare - Leads nollningen." },
    { sv: "Ph - F√∂rkortning av 'f'.", en: "Ph - Abbreviation of 'f'." },
    { sv: "PH - D-husets superman", en: "PH - Superman of the D-house" },
    {
      sv: "Phadder - Din m√§nnskliga guide till studentlivet.",
      en: "Phadder - Your human guide to student life.",
    },
    { sv: "Rekursion - se Rekursion.", en: "Recursion - see Recursion." },
    {
      sv: "R√•sa - V√•r sektionsf√§rg, #F280A1 ;)",
      en: "R√•sa (Pink) - Our guild color, #F280A1 ;)",
    },
    {
      sv: "R√•senbad - Rum i iD√©t d√§r styrelsen styr, ledarna leder och m√∂ten m√∂ts.",
      en: "R√•senbad - A room in iD√©t where the board rules, leaders lead, and meetings meet.",
    },
    {
      sv: "Sh√§raton - Ett litet mysrum i iD√©t med br√§dspel, TV-spel och soffor.",
      en: "Sh√§raton - A cozy little room in iD√©t with board games, video games, and sofas.",
    },
    {
      sv: "Sjungbok - S√• du kan h√§nga med i sv√§ngarna, ocks√• anteckningsblock p√• sittningar.",
      en: "Sjungbok - So you can keep up with the songs, also used as a notebook at sittings.",
    },
    {
      sv: "Sj√∂n Sj√∏n - Sj√∂n runt √∂n √òn. En uppfriskande simtur uppskattas, gl√∂m bara inte skorna och att h√•lla munnen j√§ttest√§ngd.",
      en: "Sj√∂n Sj√∏n - The lake around the island √òn. A refreshing swim is recommended, just don't forget your shoes and to keep your mouth tightly closed.",
    },
    {
      sv: "Slasque - Fulare sittning med Ouvve.",
      en: "Slasque - A more casual sitting with Ouvve.",
    },
    {
      sv: "Sparta  - Studentghetto i Lund d√§r folk lever enkelt utan on√∂dig lyx.",
      en: "Sparta - A student ghetto in Lund where people live simply without unnecessary luxury.",
    },
    {
      sv: "Spex - En studentikos musikal framf√∂rd av andra LU studenter.",
      en: "Spex - A student musical performed by other LU students.",
    },
    {
      sv: "Spex - En studentf√∂rening som anordnar spex.",
      en: "Spex - A student organization that organizes spex.",
    },
    {
      sv: "Spex - Vad vissa andra sektioner kallar gyckel. Se Gyckel.",
      en: "Spex - What some other guilds call gyckel. See Gyckel.",
    },
    {
      sv: "Studentikost - (OBS! Inte kost som i mat, utan uttalas k√•√•√•st) N√•got som bara en student skulle g√∂ra.",
      en: "Studentikost - (Note: Not 'kost' as in food, but pronounced 'k√•√•√•st') Something only a student would do.",
    },
    {
      sv: "S√•ngbok - Felstavning, se Sjungbok.",
      en: "S√•ngbok - Misspelling, see Sjungbok.",
    },
    {
      sv: "Teknologm√∂ssa - Teknologens j√§ttefina huvudbonad med en j√§ttevacker spegatkl√§dd tofs. F√•r enbart b√§ras av ettor och √§ldre.",
      en: "Teknologm√∂ssa - The technology student's beautiful headgear with a beautiful braided tassel. Can only be worn by first-years and older.",
    },
    {
      sv: "Kiosken Kiosken - Den numera ickefungerande kommunikationshytten p√• √∂n √òn.",
      en: "Kiosken Kiosken - The now non-functional communication booth on the island √òn.",
    },
    { sv: "Tenta - Se √Öngest.", en: "Exam - See Anxiety." },
    {
      sv: "TLTH - K√•ren p√• LTH, den f√∂rening som sammanbinder alla sektioner.",
      en: "TLTH - The student union at LTH, the organization that connects all guilds.",
    },
    { sv: "√Öngest - Se Tenta.", en: "Anxiety - See Exam." },
    { sv: "√ò - F√∂rkortning av '√ñ'.", en: "√ò - Abbreviation of '√ñ'." },
    {
      sv: "√∂n √òn - √ñn i mitten av sj√∂n Sj√∏n. Oftast obebodd, utom under Regattan, d√• den √§r s√• √∂verbefolkad att den n√§stan sjunker.",
      en: "√∂n √òn - The island in the middle of Sj√∂n Sj√∏n. Usually uninhabited, except during Regatta, when it‚Äôs so overcrowded it almost sinks.",
    },
    {
      sv: "√òverpeppare - Pepparnas mamma och pappa.",
      en: "√òverpeppare - The parents of the Peppare.",
    },
  ];
  const wordList = wordBank
    .map((item) => {
      const word = item[languageTag()];
      if (!word) return null;
      const [definition, ...rest] = word.split(" - ");
      const description = rest.join(" - "); // in case it contains multiple " - "

      return {
        definition,
        description: description
          ?.replace("<a href", '<a class="link" href')
          ?.replace(
            /([sS]e{1,2}) ([a-zA-Z√Ö√Ñ√ñ√•√§√∂]+)/, // matches "Se xxx", "se xxx", "See xxx" and "see xxx"
            (_, before, word) =>
              `${before} <a class="link" href="#${word.toLowerCase()}">${word}</a>`,
          ),
      };
    })
    .filter((row) => row !== null);
</script>

<article class="mx-auto max-w-screen-md">
  <ul>
    {#each wordList as word}
      <li
        id={word.definition?.toLowerCase()}
        class="scroll-m-24 rounded-xl p-2 transition-all target:bg-primary"
      >
        <!-- eslint-disable-next-line svelte/no-at-html-tags -->
        <b>{word.definition}</b> - {@html word.description}
      </li>
    {/each}
  </ul>
</article>
