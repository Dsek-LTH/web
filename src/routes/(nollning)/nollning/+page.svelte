<script>
  import { page } from "$app/stores";
  import SetPageTitle from "$lib/components/nav/SetPageTitle.svelte";
  import MembersList from "$lib/components/socials/MembersList.svelte";
  import PersonCarouselItem from "./PersonCarouselItem.svelte";
  import * as m from "$paraglide/messages";
  import alexander from "./(photos)/alexander.webp";
  import axel from "./(photos)/axel.webp";
  import casper from "./(photos)/casper.webp";
  import emil from "./(photos)/emil.webp";
  import gustaf from "./(photos)/gustaf.webp";
  import jacob from "./(photos)/jacob.webp";
  import klara from "./(photos)/klara.webp";
  import linn from "./(photos)/linn.webp";
  import lola from "./(photos)/lola.webp";
  import thyra from "./(photos)/thyra.webp";
  import wilma from "./(photos)/wilma.webp";
  import { languageTag } from "$paraglide/runtime";

  export let data;
  $: topInsets = ($page.data.appInfo?.insets?.top ?? 0) + 8;
  $: bottomInsets = $page.data.appInfo?.insets?.bottom ?? 0;
  $: headerAndFooterHeight = 128 + topInsets + bottomInsets;

  const peppers = [
    {
      name: "Sasha",
      imageUrl: alexander,
      body: `Howdy howdy!!\n\nAlexander heter jag aka Sasha aka Mami! Jag 칛r 칒verpeppare i 친r tillsammans med Thyra. Jag har varit med om 24 snurrar runt solen och 칛r fr친n Lund!! Jag b칬rjar nu mitt tredje 친r p친 InfoCom.\n\nMitt tips till er 칛r - njut av resan och sl칛pp loss p친 saloonen!! Ingen cowboy lever bara f칬r plugget. Se till att ocks친 ha roligt!!\n\nHasta la vista!`,
      bodyEn:
        "Howdy howdy!!\n\nMy name is Alexander aka Sasha aka Mami! I'm a Head Pepper this year together with Thyra. I've been around the sun 24 times and I'm from Lund!! I'm now starting my third year in InfoCom.\n\nMy tip for you is - enjoy the journey and let loose at the saloon!! No cowboy lives just for studying. Make sure to have fun too!!\n\nHasta la vista!",
    },
    {
      name: "Thyra",
      imageUrl: thyra,
      body: `Tjenixen! Jag heter Thyra och 칛r 칒verpeppare tillsammans med Sasha <3. Jag 칛r 22 친r gammal, kommer ursprungligen fr친n gamla fina 칐rebro och ska nu b칬rja mitt tredje 친r p친 data.\n\nAlla 칛ventyr som n0llningen erbjuder m친ste ju sj칛lvklart ha ett soundtrack. Mitt tips 칛r d칛rf칬r en riktigt najs spellista som f친r dig peppad och redo f칬r dagen! Vi h칬rs!`,
      bodyEn:
        "Hey there! My name is Thyra and I'm a Head Pepper together with Sasha <3. I'm 22 years old, originally from the lovely old 칐rebro, and I'm about to start my third year in computer science.\n\nAll the adventures that n0llningen offers definitely need a soundtrack. So my tip is to create a really nice playlist that gets you pumped and ready for the day! See you around!",
    },
    {
      name: "Axel",
      imageUrl: axel,
      body: `Hej kompisar! Jag 칛r Axel Magnusson, stockholmare, 25 친r j칛ttegammal och sedan ett 친r tillbaka blivande Civilingenj칬r i Datateknik! Mitt b칛sta tips f칬r att inte ramla av h칛sten under nollningen 칛r att v칛lja sina dueller. 츿ven den tuffaste av cowboys m친ste vila upp sig ibland - man kan inte galoppera utan s칬mn! `,
      bodyEn:
        "Hey friends! I'm Axel Magnusson, a 25-year-old Stockholm native, and soon-to-be Master of Science in Computer Engineering! My best tip to avoid falling off the horse during nollningen is to pick your battles. Even the toughest cowboys need to rest sometimes - you can't gallop without sleep!",
    },
    {
      name: "Klara",
      imageUrl: klara,
      body: `Hej!\n\nKlara h칛r, 24 친r, men det 칛r s친 m친nga andra snygga Klaror h칛r p친 sektionen s친 H칬gen/H칬gis g친r ocks친 bra. 츿r fr친n en liten 칬 i Stockholm (S칬dermalm) men pluggar nu trean p친 InfoCom.\n\nF칬r att st친 stadigt i st칬vlarna 칛r mitt tips att alla h칛r 칛r lika sugna p친 att l칛ra k칛nna nya m칛nniskor -  s친 v친ga ta f칬rsta steget och fyll din flock med andra cowboys!`,
      bodyEn:
        "Hi!\n\nKlara here, 24 years old, but since there are so many other good-looking Klaras in the guild, you can also call me H칬gen/H칬gis. I'm from a small island in Stockholm (S칬dermalm) but now I'm in my third year in InfoCom.\n\nTo stay steady in your boots, my tip is that everyone here is just as eager to meet new people - so don't be afraid to take the first step and fill your group with other cowboys!",
    },
    {
      name: "Casper",
      imageUrl: casper,
      body: `Hallojsan framtida v칛nner! Casper va namnet, 21 친r gammal fr친n h칛rliga Stockholm, Nacka o ska b칬rja andra 친ret p친 data h칛r i Lund游땻 Jag rekommenderar starkt att hitta en stabil plats o sl친 l칛ger n칛r man ska plugga. Det finns m친nga vilda cowboys h칛r p친 campus s친 konkurrensen 칛r tuff. Om du inte vet vart du kan sitta s친 kan du alltid fr친ga mig! 游닄游`,
      bodyEn:
        "Hey there future friends! The name's Casper, 21 years old from the lovely Stockholm, Nacka, and about to start my second year in computer science here in Lund游땻 I highly recommend finding a stable spot to set up camp when you're studying. There are a lot of wild cowboys here on campus so competition is tough. If you don't know where to sit, you can always ask me! 游닄游",
    },
    {
      name: "Wilma",
      imageUrl: wilma,
      body: `Tja!\n\nWilma heter jag, 칛r en 20 친rig andra친rsstudent p친 data och kommer (tyyyyyp) fr친n Stockholm!!\n\nH칛r i vilda v칛stern kan det vara sv친rt f칬r en nybliven cowboy att hitta r칛tt. Mitt b칛sta tips 칛r d칛rf칬r att fr친ga alla rutinerade studenter om allt m칬jligt: vilka b칬cker som inte beh칬vs, vilken nation som de gillar mest, eller vart man hittar Lunds b칛sta falafel. Ha s친 kul, kram!!`,
      bodyEn:
        "Hey!\n\nMy name is Wilma, I'm a 20-year-old second-year computer science student and I'm (tyyyyyp) from Stockholm!!\n\nHere in the wild west, it can be hard for a new cowboy to find their way. My best tip is to ask all the experienced students about anything: which books you don't need, which nation they like the most, or where to find the best falafel in Lund. Have fun, hugs!!",
    },
    {
      name: "Emil",
      imageUrl: emil,
      body: `Howdy!\n\nEmil heter jag, kallas 칛ven Nubben, 칛r 27 친r gammal och kommer fr친n Bor친s. G친r nu mitt sj칛tte 친r p친 InfoCom! F칬r att just du ska ha en fantastisk nollning i v칛stern s친 칛r mitt fr칛msta tips att v친ga bjuda p친 er sj칛lva lite extra under nollningen! Det 칛r s친 man hittar sina framtida studiecowboys och n친got man kommer ha kvar f칬r livet <3`,
      bodyEn:
        "Howdy!\n\nMy name is Emil, also known as Nubben, I'm 27 years old and from Bor친s. I'm now in my sixth year in InfoCom! For you to have an amazing nollning in the west, my top tip is to dare to put yourself out there a little extra during nollningen! That's how you find your future study cowboys, and it's something you'll have for life <3",
    },
    {
      name: "Linn",
      imageUrl: linn,
      body: `Heej d칛r!\n\nLinn heter jag, 칛r 21 bast fr친n T칛by och nu glider jag in i andra 친ret p친 InfoCom!!\n\nN칛r man ridit genom ett bl친sigt vilda v칛stern, 칛r det sk칬nt att ha laddat upp med f칛rdiglagade matlador. Kanske testa cowboysopp`,
      bodyEn:
        "Hey there!\n\nMy name is Linn, I'm 21 years old from T칛by and now I'm sliding into my second year in InfoCom!!\n\nWhen you've ridden through a windy wild west, it's nice to have stocked up on pre-prepared meals. Maybe try cowboy stew?",
    },
    {
      name: "Gustaf",
      imageUrl: gustaf,
      body: `Tja! Det 칛r jag som 칛r Gustaf JensEn och jag 칛r en peppande cowboy som ibland pluggar Data, numera 친r 3! Innan jag red ned till Lund h칛rjade jag p친 sumpans gator i Stockholm!\n\nEn cowboy ska veta sina begr칛nsningar! 칀k d칛rf칬r inte Voi p친 vargtimmen, vi gl칬mmer aldrig v친ra fallna br칬der som vaknat upp p친 sjukan med en extra donation till tandfen.`,
      bodyEn:
        "Hey! I'm Gustaf Jensen, and I'm a peppy cowboy who sometimes studies computer science, now in year 3! Before I rode down to Lund, I roamed the streets of Sundbyberg in Stockholm!\n\nA cowboy should know their limits! So don't ride a Voi scooter at the wolf hour; we'll never forget our fallen brothers who woke up in the hospital with an extra donation to the tooth fairy.",
    },
    {
      name: "Lola",
      imageUrl: lola,
      body: `Hej hej!\n\nLola heter jag (Aurora 칛r mitt goverment name men vi skiter i det). Jag 칛r en hela 21 친r gammal, 칛r fr친n Malm칬 och g친r mitt fj칛rde 친r p친 data( klarar du f칬rsta 친ret s친 har du redan mer HP 칛n mig).  \n\nMitt b칛sta tips f칬r att bli en stabil cowboy 칛r att f칬rs칬k att undvika sista minuten tenta-plugget, t칛nk p친 hur m친nga fler saloons man kan g친 p친 medan alla andra omtenta pluggar!`,
      bodyEn:
        "Hey hey!\n\nMy name is Lola (Aurora is my government name but let's not worry about that). I'm a whole 21 years old, from Malm칬, and I'm in my fourth year in computer science (if you survive the first year, you've already earned more credits than I have).\n\nMy best tip for becoming a stable cowboy is to try to avoid last-minute exam cramming, think about how many more saloons you can visit while everyone else is cramming for retakes!",
    },
    {
      name: "Jacobi",
      imageUrl: jacob,
      body: `Hall친 ja!\nJacob heter jag, men kalla mig g칛rna f칬r Jacobi. Jag 칛r 23 친r och g친r tredje 친ret p친 InfoCom.\nEtt tips f칬r att l칛tt kunna Gallopera genom nollningen 칛r att ha en fungerande cykel. D친 g친r det mycket snabbare att komma fram till eventen, men 칛ven att komma hem f칬r att f친 s친 mycket v칛lbeh칬vlig vila som m칬jligt.`,
      bodyEn:
        "Hello there! My name is Jacob, but feel free to call me Jacobi. I'm 23 years old and in my third year in InfoCom.\nA tip for easily galloping through nollningen is to have a functioning bike. That way, you'll get to events much faster and can get home quickly for some much-needed rest.",
    },
  ];
</script>

<SetPageTitle title="Nollning" />

<article class="space-y-16">
  {#if data.revealTheme}
    <div
      class="-mx-6 -my-6"
      style={`height: calc(100dvh - ${data.isApp ? headerAndFooterHeight : 0}px)`}
    >
      <figure
        class="relative h-full w-full overflow-hidden border-none bg-neutral"
      >
        <!-- todo: change image (also have two vers for landscape/profile) -->
        <img
          src="https://www.dsek.se/hero-image.webp"
          alt="Hero"
          class="h-full w-full object-cover"
        />
        <span
          class="absolute left-1/2 top-1/2 w-max max-w-screen-md -translate-x-1/2 -translate-y-1/2 transform px-4 text-center font-nolla-stab text-5xl leading-snug md:text-8xl"
        >
          <!-- eslint-disable-next-line svelte/no-at-html-tags -->
          {@html m.nollning_title()}
        </span>
      </figure>
    </div>
  {/if}
  <!-- limit width and center -->
  <div class="mx-auto max-w-screen-md">
    {#if data.revealTheme}
      <section class="flex flex-col">
        <h3 class="page-title text-secondary">
          {m.nollning_landing_hello_title()}
        </h3>
        <p class="nolla-prose">
          {m.nollning_landing_hello_body()}
        </p>
        <a href="#staben" class="btn-primary-dark btn self-center"
          >{m.nollning_landing_view_staben()}</a
        >
      </section>
      <section>
        <h3 class="page-title font-nolla-stab !text-2xl text-secondary">
          {m.nollning_landing_lore_title()}
        </h3>
        <p class="nolla-prose">
          {m.nollning_landing_lore_body()}
        </p>
      </section>

      <section class="!my-32 !mb-48 flex flex-col items-center" id="staben">
        <div
          class="w-full scroll-smooth max-md:carousel md:grid md:grid-cols-2 md:gap-4 lg:w-[calc(100%+8rem)] lg:grid-cols-3"
        >
          <PersonCarouselItem
            stab
            name={`칒verph칮s\nArux Tonitribus`}
            index={0}
          />
          <PersonCarouselItem stab name="ImRe Daemon" index={1} />
          <PersonCarouselItem stab name="Volto RefacTor" index={2} />
          <PersonCarouselItem stab name="Lostrego MutatI/O" index={3} />
          <PersonCarouselItem stab name="Macro Tempestas" index={4} />
          <PersonCarouselItem stab name="Celesta VentUX" index={5} />
        </div>
      </section>
    {/if}

    <section
      class="!mb-48 flex flex-col items-center"
      id="peppers"
      class:!mt-32={data.revealTheme}
    >
      <div
        class="w-full scroll-smooth max-md:carousel md:grid md:grid-cols-2 md:gap-4 lg:w-[calc(100%+8rem)] lg:grid-cols-3"
      >
        {#each peppers as pepper, index (pepper.name)}
          <PersonCarouselItem
            name={pepper.name}
            {index}
            imageUrl={pepper.imageUrl}
            body={languageTag() === "en" ? pepper.bodyEn : pepper.body}
          />
        {/each}
      </div>
    </section>

    <section class="flex flex-col">
      <h3 class="page-title mb-4 text-secondary">
        {m.nollning_landing_policy_header()}
      </h3>
      <p class="nolla-prose">
        {m.nollning_landing_policy_subtitle()}
      </p>
      <ul class="list-disc leading-relaxed">
        <li>{m.nollning_landing_policy_lines_1()}</li>
        <li>{m.nollning_landing_policy_lines_2()}</li>
        <li>{m.nollning_landing_policy_lines_3()}</li>
        <li>
          {m.nollning_landing_policy_lines_4()}
        </li>
      </ul>
      {#if data.revealTheme}
        <p class="nolla-prose">
          {m.nollning_landing_policy_readMore()}
        </p>
        <!-- TODO: Link -->
        <a href="/" class="btn-primary-dark btn self-center"
          >{m.nollning_landing_policy_read()}</a
        >
      {/if}
    </section>

    <!-- TODO: Phaddergrupper -->
    <section class="mt-16 flex flex-col items-center" id="peppers">
      <div
        class="w-full scroll-smooth max-md:carousel md:grid md:grid-cols-2 md:gap-4 lg:w-[calc(100%+8rem)] lg:grid-cols-3"
      >
        {#each data.phadderGroups as group, index}
          <PersonCarouselItem
            name={group.name}
            body={group.description ?? ""}
            imageUrl={group.imageUrl ?? ""}
            {index}
            max={data.phadderGroups.length}
            prefix="groupslide"
            font="text-2xl font-medium"
          >
            <div class="mt-2 flex justify-center gap-2">
              <MembersList class="btn btn-outline btn-sm" members={group.nollor}
                >{m.nollor()}</MembersList
              >
              <MembersList
                class="btn btn-outline btn-sm"
                members={group.phaddrar.map((p) => p.member)}
                >{m.phaddrar()}</MembersList
              >
            </div></PersonCarouselItem
          >
        {/each}
      </div>
    </section>
  </div>
</article>
